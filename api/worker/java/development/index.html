
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <link rel="canonical" href="https://docs.d12sqmpa4c7emq.amplifyapp.com/api/worker/java/development/">
      
      
        <link rel="prev" href="../../c%2B%2B/development/">
      
      
        <link rel="next" href="../../python/development/">
      
      <link rel="icon" href="../../../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.4.2, mkdocs-material-9.0.6">
    
    
      
        <title>Developing Java Worker Function - Cloud Native HTC-Grid</title>
      
    
    
      <link rel="stylesheet" href="../../../../assets/stylesheets/main.558e4712.min.css">
      
        
        <link rel="stylesheet" href="../../../../assets/stylesheets/palette.2505c338.min.css">
      
      

    
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("../../../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="green" data-md-color-accent="deep-orange">
  
    
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#developing-java-worker-function" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../../../.." title="Cloud Native HTC-Grid" class="md-header__button md-logo" aria-label="Cloud Native HTC-Grid" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Cloud Native HTC-Grid
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Developing Java Worker Function
            
          </span>
        </div>
      </div>
    </div>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/awslabs/aws-htc-grid" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.2.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    awslabs/aws-htc-grid
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-tabs__inner md-grid">
    <ul class="md-tabs__list">
      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../../../getting_started/prerequisite/" class="md-tabs__link">
        Getting started
      </a>
    </li>
  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../../../architecture/architecture/" class="md-tabs__link">
        Architecture
      </a>
    </li>
  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../../../user_guide/configuring_priority_queues/" class="md-tabs__link">
        User guide
      </a>
    </li>
  

      
        
  
  
    
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../../" class="md-tabs__link md-tabs__link--active">
        Developer Guide
      </a>
    </li>
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../../.." title="Cloud Native HTC-Grid" class="md-nav__button md-logo" aria-label="Cloud Native HTC-Grid" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    Cloud Native HTC-Grid
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/awslabs/aws-htc-grid" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.2.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    awslabs/aws-htc-grid
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " data-md-toggle="__nav_1" type="checkbox" id="__nav_1" >
      
      
      
        <label class="md-nav__link" for="__nav_1" tabindex="0" aria-expanded="false">
          Getting started
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Getting started" data-md-level="1">
        <label class="md-nav__title" for="__nav_1">
          <span class="md-nav__icon md-icon"></span>
          Getting started
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../getting_started/prerequisite/" class="md-nav__link">
        Software Prerequisites
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../getting_started/configurations/" class="md-nav__link">
        Configuring Local Environment
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../getting_started/happy-path/" class="md-nav__link">
        Happy Path
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../getting_started/portfolio_example/" class="md-nav__link">
        Portfolio example
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " data-md-toggle="__nav_2" type="checkbox" id="__nav_2" >
      
      
      
        <label class="md-nav__link" for="__nav_2" tabindex="0" aria-expanded="false">
          Architecture
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Architecture" data-md-level="1">
        <label class="md-nav__title" for="__nav_2">
          <span class="md-nav__icon md-icon"></span>
          Architecture
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../architecture/architecture/" class="md-nav__link">
        HTC-Grid Architecture
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " data-md-toggle="__nav_3" type="checkbox" id="__nav_3" >
      
      
      
        <label class="md-nav__link" for="__nav_3" tabindex="0" aria-expanded="false">
          User guide
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="User guide" data-md-level="1">
        <label class="md-nav__title" for="__nav_3">
          <span class="md-nav__icon md-icon"></span>
          User guide
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../user_guide/configuring_priority_queues/" class="md-nav__link">
        Configuring Priority Queues
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../user_guide/creating_your_a_client/" class="md-nav__link">
        Configuring Client and Sending Tasks to the HTC Grid
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../user_guide/htcgrid_management/" class="md-nav__link">
        Managing HTC-Grid after deployment
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../user_guide/troubleshooting/" class="md-nav__link">
        Troubleshooting
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " data-md-toggle="__nav_4" type="checkbox" id="__nav_4" checked>
      
      
      
        <label class="md-nav__link" for="__nav_4" tabindex="0" aria-expanded="true">
          Developer Guide
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Developer Guide" data-md-level="1">
        <label class="md-nav__title" for="__nav_4">
          <span class="md-nav__icon md-icon"></span>
          Developer Guide
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../" class="md-nav__link">
        API documentation
      </a>
    </li>
  

            
          
            
              
  
  
  
    
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " data-md-toggle="__nav_4_2" type="checkbox" id="__nav_4_2" >
      
      
      
        <label class="md-nav__link" for="__nav_4_2" tabindex="0" aria-expanded="false">
          Client
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Client" data-md-level="2">
        <label class="md-nav__title" for="__nav_4_2">
          <span class="md-nav__icon md-icon"></span>
          Client
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../client/" class="md-nav__link">
        Client API (between application and HTC-Grid)
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " data-md-toggle="__nav_4_2_2" type="checkbox" id="__nav_4_2_2" >
      
      
      
        <label class="md-nav__link" for="__nav_4_2_2" tabindex="0" aria-expanded="false">
          Python
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Python" data-md-level="3">
        <label class="md-nav__title" for="__nav_4_2_2">
          <span class="md-nav__icon md-icon"></span>
          Python
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../client/python/reference/" class="md-nav__link">
        HTC-Grid API Reference
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../client/python/usage/" class="md-nav__link">
        How to use API in your application
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
    
  
  
    
      
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " data-md-toggle="__nav_4_3" type="checkbox" id="__nav_4_3" checked>
      
      
      
        <label class="md-nav__link" for="__nav_4_3" tabindex="0" aria-expanded="true">
          Worker
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Worker" data-md-level="2">
        <label class="md-nav__title" for="__nav_4_3">
          <span class="md-nav__icon md-icon"></span>
          Worker
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " data-md-toggle="__nav_4_3_1" type="checkbox" id="__nav_4_3_1" >
      
      
      
        <label class="md-nav__link" for="__nav_4_3_1" tabindex="0" aria-expanded="false">
          Python
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Python" data-md-level="3">
        <label class="md-nav__title" for="__nav_4_3_1">
          <span class="md-nav__icon md-icon"></span>
          Python
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../python/development/" class="md-nav__link">
        Developing Python3 Worker Function
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " data-md-toggle="__nav_4_3_2" type="checkbox" id="__nav_4_3_2" >
      
      
      
        <label class="md-nav__link" for="__nav_4_3_2" tabindex="0" aria-expanded="false">
          C++
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="C++" data-md-level="3">
        <label class="md-nav__title" for="__nav_4_3_2">
          <span class="md-nav__icon md-icon"></span>
          C++
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../c%2B%2B/development/" class="md-nav__link">
        Developing C++ Worker Function
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#java-deploying-simple-mock-compute-engine" class="md-nav__link">
    Java Deploying Simple Mock Compute Engine
  </a>
  
    <nav class="md-nav" aria-label="Java Deploying Simple Mock Compute Engine">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#deploy-htc-grid-with-java-mock-compute-lambda-functions" class="md-nav__link">
    Deploy HTC-Grid with Java Mock Compute Lambda functions
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#java-deploying-quant-lib" class="md-nav__link">
    Java Deploying Quant Lib
  </a>
  
    <nav class="md-nav" aria-label="Java Deploying Quant Lib">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1-build-quantlib-and-swig" class="md-nav__link">
    1. Build QuantLib and SWIG
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-confgiure-java-lambda-function-for-compilation" class="md-nav__link">
    2. Confgiure Java Lambda Function for compilation
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3-edit-makefile-to-package-lambda-function" class="md-nav__link">
    3. Edit Makefile to package Lambda function
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#4-deploy-htc-grid-with-java-quantlib-lambda-functions" class="md-nav__link">
    4. Deploy HTC-Grid with Java QuantLib Lambda functions
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  

  
  



<h1 id="developing-java-worker-function">Developing Java Worker Function<a class="headerlink" href="#developing-java-worker-function" title="Permanent link">&para;</a></h1>
<p>HTC-Grid comes with examples demonstrating how to build Python3, Java, and C++ based Worker functions. The overall concept for Java is very similar to Python3, thus refer to architecture diagrams from Python3 examples.</p>
<h2 id="java-deploying-simple-mock-compute-engine">Java Deploying Simple Mock Compute Engine<a class="headerlink" href="#java-deploying-simple-mock-compute-engine" title="Permanent link">&para;</a></h2>
<p>The most simplest mock computation example can be found in:   <code>/examples/workloads/java/mock_computation</code>. The java class simply receives payload, prints its, sleeps for a configured duration and then returns.</p>
<p>The example contains the following file structure:</p>
<ul>
<li><strong>src/</strong>         # The folder containing MockComputeEngine.java</li>
<li><strong>pom.xml</strong>      # configuration file to compile and package project using Maven</li>
<li><strong>Makefile</strong>     # This is the make file that is being called during HTC-Grid happy-path build process to compile and package mock function into a Lambda package.</li>
<li><strong>Dockerfile</strong>   # This is a sample docker file that can be used to for testing of lambda function locally with Docker. Unlike Python and C++ examples that compile all dependencies in a docker file, Java examples are compiled locally on the machine that performs the deployment.</li>
</ul>
<p>This mock compute backend can be used with <code>client.py</code></p>
<h3 id="deploy-htc-grid-with-java-mock-compute-lambda-functions">Deploy HTC-Grid with Java Mock Compute Lambda functions<a class="headerlink" href="#deploy-htc-grid-with-java-mock-compute-lambda-functions" title="Permanent link">&para;</a></h3>
<p>To deploy HTC-Grid in this configuration use the default <strong>happy-path</strong> deployment steps from the documentation, except use the following functions to build and deploy</p>
<div class="highlight"><pre><span></span><code>make<span class="w"> </span>java-happy-path<span class="w"> </span><span class="nv">TAG</span><span class="o">=</span><span class="nv">$TAG</span><span class="w"> </span><span class="nv">REGION</span><span class="o">=</span><span class="nv">$HTCGRID_REGION</span>
make<span class="w"> </span>auto-apply-java-runtime<span class="w">  </span><span class="nv">TAG</span><span class="o">=</span><span class="nv">$TAG</span><span class="w"> </span><span class="nv">REGION</span><span class="o">=</span><span class="nv">$HTCGRID_REGION</span><span class="w"> </span><span class="nv">GRAFANA_ADMIN_PASSWORD</span><span class="o">=</span>
</code></pre></div>
<h2 id="java-deploying-quant-lib">Java Deploying Quant Lib<a class="headerlink" href="#java-deploying-quant-lib" title="Permanent link">&para;</a></h2>
<p>This example is located in <code>/examples/workloads/java/quant_lib</code> and shows how to build a java worker lambda with dependency. Specifically in this case we use a C++ QuantLib which is accessed via JNI, i.e., first a lambda function written in java is invoked which then calls C++ library. There are several additional steps involved in this process.</p>
<h3 id="1-build-quantlib-and-swig">1. Build QuantLib and SWIG<a class="headerlink" href="#1-build-quantlib-and-swig" title="Permanent link">&para;</a></h3>
<p>The <a href="https://www.quantlib.org/">QuantLib</a> is an open source project that is aimed at providing a comprehensive software framework for quantitative finance. <a href="https://github.com/lballabio/QuantLib-SWIG/tree/master">QuantLib-SWIG</a>  provides the means to use QuantLib from a number of languages including Java.</p>
<p>First follow official steps to download QuantLib release or <a href="https://www.quantlib.org/install/linux.shtml">build it yourself</a> which is straighforward.</p>
<p>Then build QuantLib-SWIG, note when running ./configure exclude all other languages except for Java. Follow the official steps to build the library.</p>
<p>At the end of the process you should get the following libraries and a JAR:</p>
<p><div class="highlight"><pre><span></span><code>libQuantLib.so.0
libQuantLibJNI.so
QuantLib.jar
</code></pre></div>
These libraries are not part of the HTC-Grid project and <strong>not provided</strong> in a form of artifacts or built automatically.</p>
<h3 id="2-confgiure-java-lambda-function-for-compilation">2. Confgiure Java Lambda Function for compilation<a class="headerlink" href="#2-confgiure-java-lambda-function-for-compilation" title="Permanent link">&para;</a></h3>
<p>Edit static dependency for quantlib in ''pom.xml'', make sure that <strong>QuantLib.jar</strong> can be located by Maven, default location is ''ql/'' subfolder. This will allow project to be build and pacakged by Maven.</p>
<div class="highlight"><pre><span></span><code><span class="w">    </span><span class="nt">&lt;dependency&gt;</span>
<span class="w">      </span><span class="nt">&lt;groupId&gt;</span>org<span class="nt">&lt;/groupId&gt;</span>
<span class="w">      </span><span class="nt">&lt;artifactId&gt;</span>quantlib<span class="nt">&lt;/artifactId&gt;</span>
<span class="w">      </span><span class="nt">&lt;version&gt;</span>1.30<span class="nt">&lt;/version&gt;</span>
<span class="w">      </span><span class="nt">&lt;scope&gt;</span>system<span class="nt">&lt;/scope&gt;</span>
<span class="w">      </span><span class="nt">&lt;systemPath&gt;</span>${project.basedir}/ql/QuantLib.jar<span class="nt">&lt;/systemPath&gt;</span>
<span class="w">    </span><span class="nt">&lt;/dependency&gt;</span>
</code></pre></div>
<h3 id="3-edit-makefile-to-package-lambda-function">3. Edit Makefile to package Lambda function<a class="headerlink" href="#3-edit-makefile-to-package-lambda-function" title="Permanent link">&para;</a></h3>
<p>The following code in the Makefile is responsible for packaging the Lambda function into a zip file that will be deployed on the worker pods at runtime. Make sure that all 3 required libraries <code>libQuantLib.so.0 libQuantLibJNI.so QuantLib.jar</code>can be copied into <code>./lambda/lib/</code> otherwise the lambda function will fail with a runtime error.</p>
<div class="highlight"><pre><span></span><code><span class="nf">upload</span><span class="o">:</span><span class="w"> </span><span class="n">compile</span>

<span class="w">    </span>rm<span class="w"> </span>./lambda<span class="w"> </span>-rf
<span class="w">    </span>rm<span class="w"> </span>./lambda.zip<span class="w"> </span>-f

<span class="w">    </span>mkdir<span class="w"> </span>lambda

<span class="w">    </span>cp<span class="w"> </span>-r<span class="w"> </span>./target/classes/com<span class="w"> </span>./lambda
<span class="w">    </span>cp<span class="w"> </span>-r<span class="w"> </span>./target/dependency/<span class="w"> </span>./lambda/lib

<span class="w">    </span>cp<span class="w"> </span>-r<span class="w"> </span>./ql/QuantLib.jar<span class="w"> </span>./lambda/lib/
<span class="w">    </span>cp<span class="w"> </span>-r<span class="w"> </span>./ql/libQuantLibJNI.so<span class="w"> </span>./lambda/lib/
<span class="w">    </span>cp<span class="w"> </span>-r<span class="w"> </span>./ql/libQuantLib.so.0<span class="w"> </span>./lambda/lib/
</code></pre></div>
<h3 id="4-deploy-htc-grid-with-java-quantlib-lambda-functions">4. Deploy HTC-Grid with Java QuantLib Lambda functions<a class="headerlink" href="#4-deploy-htc-grid-with-java-quantlib-lambda-functions" title="Permanent link">&para;</a></h3>
<p>To deploy HTC-Grid in this configuration use the default <strong>happy-path</strong> deployment steps from the documentation, except use the following functions to build and deploy</p>
<div class="highlight"><pre><span></span><code>make<span class="w"> </span>java-ql-happy-path<span class="w"> </span><span class="nv">TAG</span><span class="o">=</span><span class="nv">$TAG</span><span class="w"> </span><span class="nv">REGION</span><span class="o">=</span><span class="nv">$HTCGRID_REGION</span>
make<span class="w"> </span>auto-apply-java-runtime<span class="w">  </span><span class="nv">TAG</span><span class="o">=</span><span class="nv">$TAG</span><span class="w"> </span><span class="nv">REGION</span><span class="o">=</span><span class="nv">$HTCGRID_REGION</span><span class="w"> </span><span class="nv">GRAFANA_ADMIN_PASSWORD</span><span class="o">=</span>
</code></pre></div>
<p>This example will work with any client workload generator as the main class does not take use of the input arguments, instead, it just demonstrate how java worker lambda can be executed with C++ runtime linked libraries.</p>





                
              </article>
            </div>
          
          
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Copyright &copy; 2024 Amazon
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    <script id="__config" type="application/json">{"base": "../../../..", "features": ["navigation.tabs", "navigation.tracking", "navigation.sections"], "search": "../../../../assets/javascripts/workers/search.e5c33ebb.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../../../../assets/javascripts/bundle.51d95adb.min.js"></script>
      
    
  </body>
</html>